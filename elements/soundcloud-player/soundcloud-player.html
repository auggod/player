<link rel="import" href="../../bower_components/polymer/polymer.html"/><link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html"/><link rel="import" href="../audio-player/audio-player.html"/><link rel="import" href="../playlist-items/playlist-items.html"/><dom-module id="soundcloud-player"><template><style>:host{flex:1}</style><iron-ajax id="ajax" auto="auto" url="{{uri}}" params="{{ajaxParams}}" handle-as="json" debounce-duration="300" on-response="onResponse"></iron-ajax><audio-player src="{{src}}" data="{{data}}" tracks="{{tracks}}" artwork="{{artwork}}"><template is="dom-if" if="{{playlist}}"><playlist-items tracks="{{tracks}}"></playlist-items></template></audio-player><content></content></template><script>(function(){Polymer({is:"soundcloud-player",onResponse:function(t){switch(this.data=t.detail.response,!1){case"track"!==this.data.kind:return this.src=this.data.stream_url+"?client_id="+this.clientId;case"playlist"!==this.data.kind:return this.src=this.data.tracks[0].stream_url+"?client_id="+this.clientId,this.playlist=!0,this.tracks=this.data.tracks}},properties:{playlist:{type:Boolean,notify:!0,value:!1},clientId:{type:String,notify:!0},uri:{type:String,value:"https://api.soundcloud.com/resolve"},url:{type:String},tracks:{type:Array,notify:!0},src:{type:String,notify:!0},artwork:{type:String,computed:"_computeArtworkUrl(data)"},ajaxParams:{type:Object,computed:"_computeAjaxParams(url, clientId)"}},_computeArtworkUrl:function(t){return t.artwork_url||t.user.avatar_url},_computeAjaxParams:function(t,r){return{url:t,client_id:r}}})}).call(this);</script></dom-module>